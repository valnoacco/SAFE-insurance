<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Valentina Noacco, Francesca Pianosi, Thorsten Wagener (University of Bristol)" />
<meta name="author" content="Work in collaboration with AXA XL" />

<meta name="date" content="2020-10-22" />

<title>Workflow to apply Global Sensitivity Analysis to a third-party cat model</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.49.4/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.49.4/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SAFE-insurance</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Project.html">
    <span class="fa fa-cubes"></span>
     
    Project
  </a>
</li>
<li>
  <a href="Outputs.html">
    <span class="fa fa-file-pdf-o"></span>
     
    Outputs
  </a>
</li>
<li>
  <a href="events.html">
    <span class="fa fa-newspaper-o"></span>
     
    Events
  </a>
</li>
<li>
  <a href="GSA-SAFE_material.html">
    <span class="fa fa-cogs"></span>
     
    GSA-SAFE material
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Contact_me.html">
    <span class="fa fa-envelope-o"></span>
     
    Contact me
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Workflow to apply Global Sensitivity Analysis to a third-party cat model</h1>
<h4 class="author">Valentina Noacco, Francesca Pianosi, Thorsten Wagener (University of Bristol)</h4>
<h4 class="author">Work in collaboration with AXA XL</h4>
<h4 class="date">2020-10-22</h4>

</div>


<p><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3" /></a> <sup><a href="#myfootnote1">*</a></sup></p>
<p><br></p>
<p><br></p>
<p>This document provides:</p>
<ul>
<li><p>a brief introduction to Global Sensitivity Analysis (GSA);</p></li>
<li><p>a workflow to apply GSA to a third-party cat model and to interpret the results using the SAFE (Sensitivity Analysis For Everybody) toolbox in R (<a href="#References">References</a> 1-2) and interactive visualisations.</p></li>
</ul>
<p>The workflow can be used:</p>
<ul>
<li><p>to learn about GSA by exploring the results obtained with a practical example;</p></li>
<li><p>as a draft code that can be modified by users to apply GSA to their own model.</p></li>
</ul>
<p><br></p>
<p><em>This is a proof of concept only, and the model results should not be considered exemplificative of any third-party cat model.</em></p>
<p><br></p>
<div id="part-i-introduction" class="section level2">
<h2>PART I: Introduction</h2>
</div>
<div id="what-is-global-sensitivity-analysis-and-why-shall-we-use-it" class="section level2">
<h2>What is Global Sensitivity Analysis and why shall we use it?</h2>
<p><strong>Global Sensitivity Analysis</strong> is a set of mathematical techniques which investigate how the uncertainty in the model inputs influences the variability of the model outputs (<a href="#References">References</a> 3-4).</p>
<p>The benefits of applying GSA are:</p>
<ul>
<li><p><strong>Gain a better understanding of the model</strong>: Evaluate the model behaviour beyond default set-up.</p></li>
<li><p><strong>Get a “sanity check” of the model</strong>: Identify unexpected model responses so to guide the model debugging and the definition of its scope of validity.</p></li>
<li><p><strong>Identify priorities for uncertainty reduction</strong>: Identify the important inputs on which to focus acquisition of new data, computationally intensive calibration, etc.</p></li>
<li><p><strong>Make more transparent and robust decisions</strong>: Understand how assumptions about uncertain inputs reflect on the modelling outcome and thus on model-informed decisions.</p></li>
</ul>
<p><br></p>
</div>
<div id="how-global-sensitivity-analysis-works" class="section level2">
<h2>How Global Sensitivity Analysis works</h2>
<p>The figure below summaries the main steps to apply GSA to a generic cat model (<a href="#References">References</a> 4-5).</p>
<p>An ‘<strong>input factor</strong>’ is any element that can be changed before running the model. In general, input factors could be the model’s parameters, forcing input data, but also the very equations implemented in the model or other set-up choices (for instance, the spatial resolution) needed for the model execution on a computer.</p>
<p>In the example of this workflow, the input factors subject to GSA will be three primary modifiers: <code>Occupancy class</code>, <code>Construction type</code> and <code>Number of stories</code>.</p>
<p>An ‘<strong>output</strong>’ is any variable that is obtained after the model execution.</p>
<p>In this example the output is the Ground-up Losses (<code>GU Loss</code>).</p>
<p><br></p>
<p><img src="how_GSA_works.png" width="80%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: lower-alpha">
<li><p>The uncertainty in each input factor is characterised by a range of variability or a probability distribution, and a number of input factor combinations are sampled from such ranges/distributions.</p></li>
<li><p>The model is repeatedly run against each of the sampled combinations of input factors.</p></li>
<li><p>The output samples so obtained can be used to visually explore the output uncertainty, for instance through a probability distribution plot or a set of scatter plots.</p></li>
<li><p>Input and output samples are quantitatively analysed in order to obtain a set of sensitivity indices. The sensitivity indices measure the relative contribution of each input factor to the output uncertainty.</p></li>
</ol>
<p><br></p>
<p>In which way is <a href="#OAT%20vs%20AAT">GSA different from conventional One-At-the-Time Sensitivity Analysis</a>?</p>
<p><br></p>
<p>How do we use <a href="#Si">sensitivity indices to inform calibration, evaluation, improvement or simplification</a>?</p>
<p><br></p>
</div>
<div id="part-ii-workflow-application" class="section level2">
<h2>PART II: Workflow application</h2>
<p><img src="GSA_main_steps.png" width="80%" style="display: block; margin: auto;" /></p>
<div id="step-1-load-the-packages" class="section level3">
<h3><a id="Step1"></a>Step 1: Load the packages</h3>
<pre class="r fold-show"><code># Install and load the packages below:

library(caTools)
library(calibrater) # Install from tar file, also available at: https://people.maths.bris.ac.uk/~mazjcr/calibrater_0.51.tar.gz
library(SAFER) # Install from source file
library(matrixStats)
library(ggplot2)
library(cowplot)
library(gridExtra)
library(plotly)</code></pre>
<p><br></p>
<p><span style="color:blue"> <a href="#Step2">Steps 2</a> and <a href="#Step3">Step 3</a> can be performed in R or in other environments (i.e. platform where model is run). In this case it was performed in another environment, so we can go to <a href="#Step4">Step 4a</a>. </span></p>
</div>
<div id="step-2-define-input-factors-subject-to-gsa-and-their-distributions" class="section level3">
<h3><a id="Step2"></a>Step 2: Define input factors subject to GSA and their distributions</h3>
<p>The choice of the distribution of the input factors and their range of variation can be made by expert judgment, available data or literature sources.</p>
<p>In this case study the input factors are three primary modifiers:</p>
<ul>
<li><code>Occupancy class</code> (Commercial, Industrial, Residential)</li>
<li><code>Construction type</code> (Masonry, Reinforced concrete, Wood)</li>
<li><code>Number of stories</code> (1, 3, 7, 8)</li>
</ul>
<p><em>click the <code>Code</code> button to display the code</em></p>
<pre class="r"><code># Uncomment the following if sampling in R:

# DistrFun  &lt;- c(&quot;unifd&quot;,&quot;unifd&quot;,&quot;unifd&quot;) # Input factors distribution
# DistrIn  &lt;- list( c(1, 3), c(1, 3), c(1, 4)) # Indices of the categorical input factors
# x_labels &lt;- c(&quot;Occupancy&quot;,&quot;Construction&quot;,&quot;Num. Stories&quot;) # Name of input factors</code></pre>
</div>
<div id="step-3-sample-input-factors-space" class="section level3">
<h3><a id="Step3"></a>Step 3: Sample input factors space</h3>
<p>The number of model runs (<code>N</code>) typically increases proportionally to the number of input factors (<code>M</code>) and will also depend on the GSA method chosen. As a rule of thumb, the GSA method used here (Regional Sensitivity Analysis) usually requires more than 100 model runs per input factor (<code>M</code>) (see <a href="#References">References</a> 3-4 for further details).</p>
<p><em>click the <code>Code</code> button to display the code</em></p>
<pre class="r"><code># Uncomment the following if input factors sampling is performed in R:

# SampStrategy &lt;- &quot;lhs&quot; # Here the sampling strategy for All At the Time (AAT) sampling is 
# # Latin hypercube (another option is random uniform)
# N &lt;- 300 # Sample size
# M &lt;- length(DistrIn) # Number of input factors
# X &lt;- AAT_sampling(SampStrategy, M, DistrFun, DistrIn, N) # Sample input factors space
# colnames(X) &lt;- x_labels # Set columns names</code></pre>
</div>
<div id="step-4-execute-the-model" class="section level3">
<h3><a id="Step4"></a>Step 4: Execute the model</h3>
<div id="a-if-the-model-is-in-another-environment" class="section level4">
<h4>a) If the model is in another environment</h4>
<p>Execute the model. Then load the file with the simulated input factors (one row per simulation and one column per input factor sampled) and the simulated outputs (one row per simulation, one column per estimated output).</p>
<pre class="r fold-show"><code>M &lt;- 3 # Define number of input factors
data &lt;-  as.matrix(read.csv(&quot;Simulations.csv&quot;, header = T, sep= &quot;,&quot;, colClasses = c(rep(&quot;numeric&quot;,4)), fileEncoding=&quot;UTF-8-BOM&quot;))
X &lt;- data[,c(1:3)] # Display first rows of the input factors to check format
head(X)</code></pre>
<pre><code>##      Occupancy Construction Numstories
## [1,]         3            3          1
## [2,]         3            2          1
## [3,]         3            1          1
## [4,]         3            3          3
## [5,]         3            2          3
## [6,]         3            1          3</code></pre>
<p><br></p>
</div>
<div id="legend-of-categorical-input-factors" class="section level4">
<h4><a id="Legend_inputs"></a><em>Legend of categorical input factors</em></h4>
<p><em><code>Occupancy class</code></em>:</p>
<p>1 = Commercial; 2 = Industrial; 3 = Residential</p>
<p><em><code>Construction type</code></em>:</p>
<p>1 = Masonry; 2 = Reinforced concrete; 3 = Wood</p>
<pre class="r fold-show"><code>Y &lt;-  data[,4]
head(Y) # Display first rows of the output to check format</code></pre>
<pre><code>## [1] 2880000 2288000 2288000 1769600 1125900 1125900</code></pre>
<p><br></p>
</div>
<div id="b-if-the-model-is-in-r" class="section level4">
<h4>b) If the model is in R</h4>
<p><em>click the <code>Code</code> button to display the code</em></p>
<pre class="r"><code># Uncomment the following if the model is coded in R:

#Y &lt;- cat_model(X) # Where &#39;cat_model&#39; is your chosen model</code></pre>
<p><br></p>
</div>
</div>
<div id="step-5-visualise-inputoutput-samples-for-a-qualitative-assessment-of-the-model-behaviour" class="section level3">
<h3><a id="Step5"></a>Step 5: Visualise input/output samples for a qualitative assessment of the model behaviour</h3>
<p>Let’s plot input factor-output scatterplots:</p>
<pre class="r fold-show"><code>x_labels &lt;- c(&quot;Occupancy&quot;,&quot;Construction&quot;,&quot;Num. Stories&quot;) # Name of input factors for legend
sz_tx &lt;- 12 # Font size for plots

N &lt;- length(Y) # Get number of samples 
colnames(X) &lt;- x_labels # Set column names

# Define x-axis labels (this is needed only if you want to display the name of the categorical variables)
occ_labels &lt;- c(&quot;Com.&quot;, &quot;Ind.&quot;,&quot;Res.&quot;)
cons_labels &lt;- c(&quot;Mas.&quot;, &quot;R Conc.&quot;,&quot;Wood&quot;)
n_stories &lt;- c(&quot;1&quot;,&quot; &quot;,&quot;3&quot;,&quot; &quot;,&quot; &quot;,&quot; &quot;,&quot;7&quot;,&quot;8&quot;)

# Define x-axis ticks (this is needed only if you want to display the name of the categorical variables)
xlims &lt;- list(c(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;), c(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;), c(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;) )
xlabs &lt;- list(occ_labels, cons_labels, n_stories)

# Use the SAFER function `scatter_plots` to visualise inputs/outputs

plts_GU &lt;- list()
for(ii in 1:3){
plts_GU[[ii]] &lt;- scatter_plots(X[ , ii, drop = FALSE], Y, prnam = x_labels[ii]) + 
  ylab(&quot;GU Loss&quot;) + 
  theme(text = element_text(size=sz_tx)) + theme(axis.title.x=element_blank()) + 
  scale_x_discrete(limits=xlims[[ii]], labels=xlabs[[ii]]) + geom_point(alpha = 0.8, size = 3)
}

grid.arrange(grobs = plts_GU, nrow = 1, ncol = 3)</code></pre>
<p><img src="workflow_GSA_AXAXL_example_files/figure-html/visualise_in_outp-1.png" width="768" /></p>
<p><strong>How to read these plots:</strong></p>
<p><em>The plots show how the output (on the y-axis, i.e. <code>GU Loss</code>) varies as the input factors (on the x-axis, i.e. <code>Occupancy class</code>, <code>Construction type</code> and <code>Number of stories</code>) vary.</em></p>
<p><em>Each point represents the output (i.e. loss) from 1 simulation, which results from the value of the three input factors.</em></p>
<p><em>(Let’s remember that all input factors are varied at the same time, so when looking at a single plot (e.g. <code>GU Loss</code> vs <code>Construction type</code>, and we see that, for wood <code>Construction type</code>, the output losses are divided roughly into two groups, this might be due to another input factor(s).)</em></p>
<p><em>In order to assess whether an input factor is</em> <strong><em>influential</em></strong> <em>we are going to look for patterns along the x-axis (e.g. are the losses increasing or decreasing as the <code>Number of stories</code> increases? are losses considerably higher for one <code>Construction type</code> compared to the other two?).</em></p>
<p><em>The scatterplots can also reveal unexpected behaviours and outliers, which may require further investigation.</em></p>
<p><strong>What we can learn about the model behaviour from these scatterplots:</strong></p>
<p><em>From these scatter plots we can see that the input factor with the greatest influence on the output is the <code>Number of stories</code>, as the increase of the <code>Number of stories</code> markedly decreases the losses.</em></p>
<p><em>For the <code>Construction type</code>, wood results in higher losses, while masonry and reinforced concrete result in low as well as high losses.</em></p>
<p><em>For the <code>Occupancy class</code>, residential can result in the highest losses.</em></p>
<p><br></p>
</div>
<div id="visualise-outputs-distributions" class="section level3">
<h3>Visualise outputs’ distributions</h3>
<p>If you have the results for different return periods, you can visualise the distribution of the losses for the different return periods.</p>
<p><em>click the <code>Code</code> button to display the code</em></p>
<pre class="r"><code># Uncomment the following if you have the necessary data:

# Y_unc &lt;-  read.csv(&quot;file_with_losses_for_different_RP.csv&quot;, header = T) # file with the estimated losses, 
# one row per simulation and one column per return period

# ggplot(Y_unc, mapping = aes(x = value, y = key)) + geom_density_ridges(scale = 5, size = 0.25, rel_min_height = 0.03, alpha = 0.7) + theme_ridges() +  xlab(&quot;Loss&quot;) + ylab(&quot;Return Period&quot;)</code></pre>
<p><em>click the <code>example figure</code> button to show an example of what the plot could look like</em></p>
<button class="btn btn-primary" data-toggle="collapse" data-target="#BlockName">
example figure
</button>
<div id="BlockName" class="collapse">
<p><img src="example_unc_distributions_RP.png" width="40%" style="display: block; margin: auto;" /></p>
</div>
<p><br></p>
</div>
<div id="step-6-compute-gsa-to-quantitatively-assess-the-influence-of-the-input-factors-on-the-outputs" class="section level3">
<h3><a id="Step6"></a>Step 6: Compute GSA to quantitatively assess the influence of the input factors on the outputs</h3>
<p>Let’s now apply Global Sensitivity Analysis: for example Regional Sensitivity Analysis (RSA), which aims at estimating the combination of values of the input factors that lead to different regions (e.g. high or low values) of the output.</p>
<p>RSA divides the output samples into different groups, where each group contains the same number of samples.</p>
<pre class="r fold-show"><code>n_groups &lt;- 5; # Number of groups into which the output is splitted, default = 10

Nboot &lt;- 100 # Number of resamples used for bootstrapping

# Perform RSA
rsa_stats &lt;- RSA_indices_groups(X, Y, n_groups, Nboot) # With the `Nboot`argument bootstrapping is performed.

# Statistics across all bootstrap resamples
mvd_mean &lt;- rsa_stats$mvd_mean # mean sensitivity index (i.e. maximum vertical distance (mvd) between the CDFs generated by dividing each input factor into `n_groups`) across bootstrap resamples
idx &lt;- rsa_stats$idx # index which divides the output into different groups

# Compute mean and confidence intervals of the sensitivity indices across the
# bootstrap resamples:
alfa &lt;- 0.05 # Significance level for the confidence intervals estimated by bootstrapping 
mvd_mean_m &lt;- colMeans(mvd_mean) # median
mvd_mean_lb &lt;-  colQuantiles(mvd_mean,probs=alfa/2) # Lower bound
mvd_mean_ub &lt;- colQuantiles(mvd_mean,probs=1-alfa/2) # Upper bound</code></pre>
<p><br></p>
<div id="visualise-inputoutput-samples-divided-by-group" class="section level4">
<h4>Visualise input/output samples divided by group</h4>
<p>Let’s now replot the results as in <a href="#Step5">Step 5</a>, but where the outputs are divided into different groups and coloured accordingly (i.e. red for higher losses, blue for lower losses).</p>
<pre class="r fold-show"><code># Convert matrix of inputs `X` so that name of the categorical values appear in the figure
cat_X &lt;- X
cat_X[,1][cat_X[,1]==1] &lt;- &quot;Com&quot;
cat_X[,1][cat_X[,1]==2] &lt;- &quot;Ind&quot;
cat_X[,1][cat_X[,1]==3] &lt;- &quot;Res&quot;
cat_X[,2][cat_X[,2]==1] &lt;- &quot;Mas&quot;
cat_X[,2][cat_X[,2]==2] &lt;- &quot;Rconc&quot;
cat_X[,2][cat_X[,2]==3] &lt;- &quot;Wood&quot;

p1 &lt;- scatter_plots(cat_X, Y, ngr = n_groups, prnam = x_labels) + ylab(&quot;GU Loss&quot;) +
  theme(text = element_text(size=sz_tx)) + theme(axis.title.x=element_blank()) +
  scale_colour_brewer(palette = &quot;RdBu&quot;, direction = -1) +
  geom_point(alpha = 0.8, size = 2)  + ylab(&quot;GU Loss&quot;) + xlab(&quot;Input factors&quot;) 

ggplotly(p1) %&gt;% layout(margin = list(t = 80))  %&gt;% layout(plot_bgcolor=&#39;d9d9d9&#39;)</code></pre>
<div id="htmlwidget-35dc764bb024bb964da7" style="width:768px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-35dc764bb024bb964da7">{"x":{"data":[{"x":[1,1,3,3,1,1,3,3,3,3,1,1,1,1,2,2,3,3,1,1,1,2,2,3,3,1,1,3,3,1,1,3,3,1,1,2,2,3,3,1,1],"y":[245700,245700,248700,248700,170900,170900,243000,243000,166400,166400,165000,165000,91600,91600,166500,166500,239900,239900,249600,155100,155100,225000,225000,248700,248700,170900,170900,248700,248700,170900,170900,239900,239900,155100,155100,225000,225000,239900,239900,155100,155100],"text":["x: Com<br />y:  245700<br />parnam: Occupancy","x: Com<br />y:  245700<br />parnam: Occupancy","x: Res<br />y:  248700<br />parnam: Occupancy","x: Res<br />y:  248700<br />parnam: Occupancy","x: Com<br />y:  170900<br />parnam: Occupancy","x: Com<br />y:  170900<br />parnam: Occupancy","x: Res<br />y:  243000<br />parnam: Occupancy","x: Res<br />y:  243000<br />parnam: Occupancy","x: Res<br />y:  166400<br />parnam: Occupancy","x: Res<br />y:  166400<br />parnam: Occupancy","x: Com<br />y:  165000<br />parnam: Occupancy","x: Com<br />y:  165000<br />parnam: Occupancy","x: Com<br />y:   91600<br />parnam: Occupancy","x: Com<br />y:   91600<br />parnam: Occupancy","x: Ind<br />y:  166500<br />parnam: Occupancy","x: Ind<br />y:  166500<br />parnam: Occupancy","x: Res<br />y:  239900<br />parnam: Occupancy","x: Res<br />y:  239900<br />parnam: Occupancy","x: Com<br />y:  249600<br />parnam: Occupancy","x: Com<br />y:  155100<br />parnam: Occupancy","x: Com<br />y:  155100<br />parnam: Occupancy","x: Ind<br />y:  225000<br />parnam: Occupancy","x: Ind<br />y:  225000<br />parnam: Occupancy","x: Res<br />y:  248700<br />parnam: Occupancy","x: Res<br />y:  248700<br />parnam: Occupancy","x: Com<br />y:  170900<br />parnam: Occupancy","x: Com<br />y:  170900<br />parnam: Occupancy","x: Res<br />y:  248700<br />parnam: Occupancy","x: Res<br />y:  248700<br />parnam: Occupancy","x: Com<br />y:  170900<br />parnam: Occupancy","x: Com<br />y:  170900<br />parnam: Occupancy","x: Res<br />y:  239900<br />parnam: Occupancy","x: Res<br />y:  239900<br />parnam: Occupancy","x: Com<br />y:  155100<br />parnam: Occupancy","x: Com<br />y:  155100<br />parnam: Occupancy","x: Ind<br />y:  225000<br />parnam: Occupancy","x: Ind<br />y:  225000<br />parnam: Occupancy","x: Res<br />y:  239900<br />parnam: Occupancy","x: Res<br />y:  239900<br />parnam: Occupancy","x: Com<br />y:  155100<br />parnam: Occupancy","x: Com<br />y:  155100<br />parnam: Occupancy"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(5,113,176,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(5,113,176,1)"}},"hoveron":"points","name":"249600","legendgroup":"249600","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1],"y":[245700,245700,248700,248700,170900,170900,243000,243000,166400,166400,165000,165000,91600,91600,166500,166500,239900,239900,249600,155100,155100,225000,225000,248700,248700,170900,170900,248700,248700,170900,170900,239900,239900,155100,155100,225000,225000,239900,239900,155100,155100],"text":["x: Rconc<br />y:  245700<br />parnam: Construction","x: Mas<br />y:  245700<br />parnam: Construction","x: Rconc<br />y:  248700<br />parnam: Construction","x: Mas<br />y:  248700<br />parnam: Construction","x: Rconc<br />y:  170900<br />parnam: Construction","x: Mas<br />y:  170900<br />parnam: Construction","x: Rconc<br />y:  243000<br />parnam: Construction","x: Mas<br />y:  243000<br />parnam: Construction","x: Rconc<br />y:  166400<br />parnam: Construction","x: Mas<br />y:  166400<br />parnam: Construction","x: Rconc<br />y:  165000<br />parnam: Construction","x: Mas<br />y:  165000<br />parnam: Construction","x: Rconc<br />y:   91600<br />parnam: Construction","x: Mas<br />y:   91600<br />parnam: Construction","x: Rconc<br />y:  166500<br />parnam: Construction","x: Mas<br />y:  166500<br />parnam: Construction","x: Rconc<br />y:  239900<br />parnam: Construction","x: Mas<br />y:  239900<br />parnam: Construction","x: Rconc<br />y:  249600<br />parnam: Construction","x: Rconc<br />y:  155100<br />parnam: Construction","x: Mas<br />y:  155100<br />parnam: Construction","x: Rconc<br />y:  225000<br />parnam: Construction","x: Mas<br />y:  225000<br />parnam: Construction","x: Rconc<br />y:  248700<br />parnam: Construction","x: Mas<br />y:  248700<br />parnam: Construction","x: Rconc<br />y:  170900<br />parnam: Construction","x: Mas<br />y:  170900<br />parnam: Construction","x: Rconc<br />y:  248700<br />parnam: Construction","x: Mas<br />y:  248700<br />parnam: Construction","x: Rconc<br />y:  170900<br />parnam: Construction","x: Mas<br />y:  170900<br />parnam: Construction","x: Rconc<br />y:  239900<br />parnam: Construction","x: Mas<br />y:  239900<br />parnam: Construction","x: Rconc<br />y:  155100<br />parnam: Construction","x: Mas<br />y:  155100<br />parnam: Construction","x: Rconc<br />y:  225000<br />parnam: Construction","x: Mas<br />y:  225000<br />parnam: Construction","x: Rconc<br />y:  239900<br />parnam: Construction","x: Mas<br />y:  239900<br />parnam: Construction","x: Rconc<br />y:  155100<br />parnam: Construction","x: Mas<br />y:  155100<br />parnam: Construction"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(5,113,176,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(5,113,176,1)"}},"hoveron":"points","name":"249600","legendgroup":"249600","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4,4,4,4,4,4,3,3,4,4,3,3,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"y":[245700,245700,248700,248700,170900,170900,243000,243000,166400,166400,165000,165000,91600,91600,166500,166500,239900,239900,249600,155100,155100,225000,225000,248700,248700,170900,170900,248700,248700,170900,170900,239900,239900,155100,155100,225000,225000,239900,239900,155100,155100],"text":["x: 8<br />y:  245700<br />parnam: Num. Stories","x: 8<br />y:  245700<br />parnam: Num. Stories","x: 8<br />y:  248700<br />parnam: Num. Stories","x: 8<br />y:  248700<br />parnam: Num. Stories","x: 8<br />y:  170900<br />parnam: Num. Stories","x: 8<br />y:  170900<br />parnam: Num. Stories","x: 7<br />y:  243000<br />parnam: Num. Stories","x: 7<br />y:  243000<br />parnam: Num. Stories","x: 8<br />y:  166400<br />parnam: Num. Stories","x: 8<br />y:  166400<br />parnam: Num. Stories","x: 7<br />y:  165000<br />parnam: Num. Stories","x: 7<br />y:  165000<br />parnam: Num. Stories","x: 8<br />y:   91600<br />parnam: Num. Stories","x: 8<br />y:   91600<br />parnam: Num. Stories","x: 8<br />y:  166500<br />parnam: Num. Stories","x: 8<br />y:  166500<br />parnam: Num. Stories","x: 8<br />y:  239900<br />parnam: Num. Stories","x: 8<br />y:  239900<br />parnam: Num. Stories","x: 7<br />y:  249600<br />parnam: Num. Stories","x: 8<br />y:  155100<br />parnam: Num. Stories","x: 8<br />y:  155100<br />parnam: Num. Stories","x: 8<br />y:  225000<br />parnam: Num. Stories","x: 8<br />y:  225000<br />parnam: Num. Stories","x: 8<br />y:  248700<br />parnam: Num. Stories","x: 8<br />y:  248700<br />parnam: Num. Stories","x: 8<br />y:  170900<br />parnam: Num. Stories","x: 8<br />y:  170900<br />parnam: Num. Stories","x: 8<br />y:  248700<br />parnam: Num. Stories","x: 8<br />y:  248700<br />parnam: Num. Stories","x: 8<br />y:  170900<br />parnam: Num. Stories","x: 8<br />y:  170900<br />parnam: Num. Stories","x: 8<br />y:  239900<br />parnam: Num. Stories","x: 8<br />y:  239900<br />parnam: Num. Stories","x: 8<br />y:  155100<br />parnam: Num. Stories","x: 8<br />y:  155100<br />parnam: Num. Stories","x: 8<br />y:  225000<br />parnam: Num. Stories","x: 8<br />y:  225000<br />parnam: Num. Stories","x: 8<br />y:  239900<br />parnam: Num. Stories","x: 8<br />y:  239900<br />parnam: Num. Stories","x: 8<br />y:  155100<br />parnam: Num. Stories","x: 8<br />y:  155100<br />parnam: Num. Stories"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(5,113,176,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(5,113,176,1)"}},"hoveron":"points","name":"249600","legendgroup":"249600","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,2,2,3,1,1,2,2,2,2,2,2,3,3,1,2,2,1,1,2,2,2,2,1,1,2,2,2,2,3,3,1,1,2,2,3,3,1,1,2],"y":[319700,319700,400000,400000,432100,265600,265600,401700,401700,256200,256200,267500,267500,402900,402900,249600,354700,354700,265600,265600,401700,401700,256200,256200,265600,265600,401700,401700,256200,256200,402900,402900,249600,249600,354700,354700,402900,402900,249600,249600,354700],"text":["x: Res<br />y:  319700<br />parnam: Occupancy","x: Res<br />y:  319700<br />parnam: Occupancy","x: Ind<br />y:  400000<br />parnam: Occupancy","x: Ind<br />y:  400000<br />parnam: Occupancy","x: Res<br />y:  432100<br />parnam: Occupancy","x: Com<br />y:  265600<br />parnam: Occupancy","x: Com<br />y:  265600<br />parnam: Occupancy","x: Ind<br />y:  401700<br />parnam: Occupancy","x: Ind<br />y:  401700<br />parnam: Occupancy","x: Ind<br />y:  256200<br />parnam: Occupancy","x: Ind<br />y:  256200<br />parnam: Occupancy","x: Ind<br />y:  267500<br />parnam: Occupancy","x: Ind<br />y:  267500<br />parnam: Occupancy","x: Res<br />y:  402900<br />parnam: Occupancy","x: Res<br />y:  402900<br />parnam: Occupancy","x: Com<br />y:  249600<br />parnam: Occupancy","x: Ind<br />y:  354700<br />parnam: Occupancy","x: Ind<br />y:  354700<br />parnam: Occupancy","x: Com<br />y:  265600<br />parnam: Occupancy","x: Com<br />y:  265600<br />parnam: Occupancy","x: Ind<br />y:  401700<br />parnam: Occupancy","x: Ind<br />y:  401700<br />parnam: Occupancy","x: Ind<br />y:  256200<br />parnam: Occupancy","x: Ind<br />y:  256200<br />parnam: Occupancy","x: Com<br />y:  265600<br />parnam: Occupancy","x: Com<br />y:  265600<br />parnam: Occupancy","x: Ind<br />y:  401700<br />parnam: Occupancy","x: Ind<br />y:  401700<br />parnam: Occupancy","x: Ind<br />y:  256200<br />parnam: Occupancy","x: Ind<br />y:  256200<br />parnam: Occupancy","x: Res<br />y:  402900<br />parnam: Occupancy","x: Res<br />y:  402900<br />parnam: Occupancy","x: Com<br />y:  249600<br />parnam: Occupancy","x: Com<br />y:  249600<br />parnam: Occupancy","x: Ind<br />y:  354700<br />parnam: Occupancy","x: Ind<br />y:  354700<br />parnam: Occupancy","x: Res<br />y:  402900<br />parnam: Occupancy","x: Res<br />y:  402900<br />parnam: Occupancy","x: Com<br />y:  249600<br />parnam: Occupancy","x: Com<br />y:  249600<br />parnam: Occupancy","x: Ind<br />y:  354700<br />parnam: Occupancy"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(146,197,222,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(146,197,222,1)"}},"hoveron":"points","name":"432100","legendgroup":"432100","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],"y":[319700,319700,400000,400000,432100,265600,265600,401700,401700,256200,256200,267500,267500,402900,402900,249600,354700,354700,265600,265600,401700,401700,256200,256200,265600,265600,401700,401700,256200,256200,402900,402900,249600,249600,354700,354700,402900,402900,249600,249600,354700],"text":["x: Rconc<br />y:  319700<br />parnam: Construction","x: Mas<br />y:  319700<br />parnam: Construction","x: Rconc<br />y:  400000<br />parnam: Construction","x: Mas<br />y:  400000<br />parnam: Construction","x: Rconc<br />y:  432100<br />parnam: Construction","x: Rconc<br />y:  265600<br />parnam: Construction","x: Mas<br />y:  265600<br />parnam: Construction","x: Rconc<br />y:  401700<br />parnam: Construction","x: Mas<br />y:  401700<br />parnam: Construction","x: Rconc<br />y:  256200<br />parnam: Construction","x: Mas<br />y:  256200<br />parnam: Construction","x: Rconc<br />y:  267500<br />parnam: Construction","x: Mas<br />y:  267500<br />parnam: Construction","x: Rconc<br />y:  402900<br />parnam: Construction","x: Mas<br />y:  402900<br />parnam: Construction","x: Mas<br />y:  249600<br />parnam: Construction","x: Rconc<br />y:  354700<br />parnam: Construction","x: Mas<br />y:  354700<br />parnam: Construction","x: Rconc<br />y:  265600<br />parnam: Construction","x: Mas<br />y:  265600<br />parnam: Construction","x: Rconc<br />y:  401700<br />parnam: Construction","x: Mas<br />y:  401700<br />parnam: Construction","x: Rconc<br />y:  256200<br />parnam: Construction","x: Mas<br />y:  256200<br />parnam: Construction","x: Rconc<br />y:  265600<br />parnam: Construction","x: Mas<br />y:  265600<br />parnam: Construction","x: Rconc<br />y:  401700<br />parnam: Construction","x: Mas<br />y:  401700<br />parnam: Construction","x: Rconc<br />y:  256200<br />parnam: Construction","x: Mas<br />y:  256200<br />parnam: Construction","x: Rconc<br />y:  402900<br />parnam: Construction","x: Mas<br />y:  402900<br />parnam: Construction","x: Rconc<br />y:  249600<br />parnam: Construction","x: Mas<br />y:  249600<br />parnam: Construction","x: Rconc<br />y:  354700<br />parnam: Construction","x: Mas<br />y:  354700<br />parnam: Construction","x: Rconc<br />y:  402900<br />parnam: Construction","x: Mas<br />y:  402900<br />parnam: Construction","x: Rconc<br />y:  249600<br />parnam: Construction","x: Mas<br />y:  249600<br />parnam: Construction","x: Rconc<br />y:  354700<br />parnam: Construction"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(146,197,222,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(146,197,222,1)"}},"hoveron":"points","name":"432100","legendgroup":"432100","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4,4,4,4,3,3,3,3,3,4,4,3,3,3,3,3,3,3,3,3,3,3,4,4,3,3,3,3,4,4,3,3,3,3,3,3,3,3,3,3,3],"y":[319700,319700,400000,400000,432100,265600,265600,401700,401700,256200,256200,267500,267500,402900,402900,249600,354700,354700,265600,265600,401700,401700,256200,256200,265600,265600,401700,401700,256200,256200,402900,402900,249600,249600,354700,354700,402900,402900,249600,249600,354700],"text":["x: 8<br />y:  319700<br />parnam: Num. Stories","x: 8<br />y:  319700<br />parnam: Num. Stories","x: 8<br />y:  400000<br />parnam: Num. Stories","x: 8<br />y:  400000<br />parnam: Num. Stories","x: 7<br />y:  432100<br />parnam: Num. Stories","x: 7<br />y:  265600<br />parnam: Num. Stories","x: 7<br />y:  265600<br />parnam: Num. Stories","x: 7<br />y:  401700<br />parnam: Num. Stories","x: 7<br />y:  401700<br />parnam: Num. Stories","x: 8<br />y:  256200<br />parnam: Num. Stories","x: 8<br />y:  256200<br />parnam: Num. Stories","x: 7<br />y:  267500<br />parnam: Num. Stories","x: 7<br />y:  267500<br />parnam: Num. Stories","x: 7<br />y:  402900<br />parnam: Num. Stories","x: 7<br />y:  402900<br />parnam: Num. Stories","x: 7<br />y:  249600<br />parnam: Num. Stories","x: 7<br />y:  354700<br />parnam: Num. Stories","x: 7<br />y:  354700<br />parnam: Num. Stories","x: 7<br />y:  265600<br />parnam: Num. Stories","x: 7<br />y:  265600<br />parnam: Num. Stories","x: 7<br />y:  401700<br />parnam: Num. Stories","x: 7<br />y:  401700<br />parnam: Num. Stories","x: 8<br />y:  256200<br />parnam: Num. Stories","x: 8<br />y:  256200<br />parnam: Num. Stories","x: 7<br />y:  265600<br />parnam: Num. Stories","x: 7<br />y:  265600<br />parnam: Num. Stories","x: 7<br />y:  401700<br />parnam: Num. Stories","x: 7<br />y:  401700<br />parnam: Num. Stories","x: 8<br />y:  256200<br />parnam: Num. Stories","x: 8<br />y:  256200<br />parnam: Num. Stories","x: 7<br />y:  402900<br />parnam: Num. Stories","x: 7<br />y:  402900<br />parnam: Num. Stories","x: 7<br />y:  249600<br />parnam: Num. Stories","x: 7<br />y:  249600<br />parnam: Num. Stories","x: 7<br />y:  354700<br />parnam: Num. Stories","x: 7<br />y:  354700<br />parnam: Num. Stories","x: 7<br />y:  402900<br />parnam: Num. Stories","x: 7<br />y:  402900<br />parnam: Num. Stories","x: 7<br />y:  249600<br />parnam: Num. Stories","x: 7<br />y:  249600<br />parnam: Num. Stories","x: 7<br />y:  354700<br />parnam: Num. Stories"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(146,197,222,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(146,197,222,1)"}},"hoveron":"points","name":"432100","legendgroup":"432100","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,1,1,2,2,3,3,3,1,1,3,3,1,1,2,2,3,3,1,1,3,3,3,3,1,1,3,3,3,3,1,1,3,3,1,1,3,3,1,1],"y":[645000,645000,434700,434700,650000,650000,855700,855700,432100,749000,749000,582800,582800,529200,529200,762000,762000,811400,811400,699900,699900,855700,855700,432100,432100,749000,749000,855700,855700,432100,432100,749000,749000,811400,811400,699900,699900,811400,811400,699900,699900],"text":["x: Res<br />y:  645000<br />parnam: Occupancy","x: Res<br />y:  645000<br />parnam: Occupancy","x: Com<br />y:  434700<br />parnam: Occupancy","x: Com<br />y:  434700<br />parnam: Occupancy","x: Ind<br />y:  650000<br />parnam: Occupancy","x: Ind<br />y:  650000<br />parnam: Occupancy","x: Res<br />y:  855700<br />parnam: Occupancy","x: Res<br />y:  855700<br />parnam: Occupancy","x: Res<br />y:  432100<br />parnam: Occupancy","x: Com<br />y:  749000<br />parnam: Occupancy","x: Com<br />y:  749000<br />parnam: Occupancy","x: Res<br />y:  582800<br />parnam: Occupancy","x: Res<br />y:  582800<br />parnam: Occupancy","x: Com<br />y:  529200<br />parnam: Occupancy","x: Com<br />y:  529200<br />parnam: Occupancy","x: Ind<br />y:  762000<br />parnam: Occupancy","x: Ind<br />y:  762000<br />parnam: Occupancy","x: Res<br />y:  811400<br />parnam: Occupancy","x: Res<br />y:  811400<br />parnam: Occupancy","x: Com<br />y:  699900<br />parnam: Occupancy","x: Com<br />y:  699900<br />parnam: Occupancy","x: Res<br />y:  855700<br />parnam: Occupancy","x: Res<br />y:  855700<br />parnam: Occupancy","x: Res<br />y:  432100<br />parnam: Occupancy","x: Res<br />y:  432100<br />parnam: Occupancy","x: Com<br />y:  749000<br />parnam: Occupancy","x: Com<br />y:  749000<br />parnam: Occupancy","x: Res<br />y:  855700<br />parnam: Occupancy","x: Res<br />y:  855700<br />parnam: Occupancy","x: Res<br />y:  432100<br />parnam: Occupancy","x: Res<br />y:  432100<br />parnam: Occupancy","x: Com<br />y:  749000<br />parnam: Occupancy","x: Com<br />y:  749000<br />parnam: Occupancy","x: Res<br />y:  811400<br />parnam: Occupancy","x: Res<br />y:  811400<br />parnam: Occupancy","x: Com<br />y:  699900<br />parnam: Occupancy","x: Com<br />y:  699900<br />parnam: Occupancy","x: Res<br />y:  811400<br />parnam: Occupancy","x: Res<br />y:  811400<br />parnam: Occupancy","x: Com<br />y:  699900<br />parnam: Occupancy","x: Com<br />y:  699900<br />parnam: Occupancy"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(247,247,247,1)"}},"hoveron":"points","name":"855700","legendgroup":"855700","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,1,2,1,2,1,2,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1],"y":[645000,645000,434700,434700,650000,650000,855700,855700,432100,749000,749000,582800,582800,529200,529200,762000,762000,811400,811400,699900,699900,855700,855700,432100,432100,749000,749000,855700,855700,432100,432100,749000,749000,811400,811400,699900,699900,811400,811400,699900,699900],"text":["x: Rconc<br />y:  645000<br />parnam: Construction","x: Mas<br />y:  645000<br />parnam: Construction","x: Rconc<br />y:  434700<br />parnam: Construction","x: Mas<br />y:  434700<br />parnam: Construction","x: Rconc<br />y:  650000<br />parnam: Construction","x: Mas<br />y:  650000<br />parnam: Construction","x: Rconc<br />y:  855700<br />parnam: Construction","x: Mas<br />y:  855700<br />parnam: Construction","x: Mas<br />y:  432100<br />parnam: Construction","x: Rconc<br />y:  749000<br />parnam: Construction","x: Mas<br />y:  749000<br />parnam: Construction","x: Rconc<br />y:  582800<br />parnam: Construction","x: Mas<br />y:  582800<br />parnam: Construction","x: Rconc<br />y:  529200<br />parnam: Construction","x: Mas<br />y:  529200<br />parnam: Construction","x: Rconc<br />y:  762000<br />parnam: Construction","x: Mas<br />y:  762000<br />parnam: Construction","x: Rconc<br />y:  811400<br />parnam: Construction","x: Mas<br />y:  811400<br />parnam: Construction","x: Rconc<br />y:  699900<br />parnam: Construction","x: Mas<br />y:  699900<br />parnam: Construction","x: Rconc<br />y:  855700<br />parnam: Construction","x: Mas<br />y:  855700<br />parnam: Construction","x: Rconc<br />y:  432100<br />parnam: Construction","x: Mas<br />y:  432100<br />parnam: Construction","x: Rconc<br />y:  749000<br />parnam: Construction","x: Mas<br />y:  749000<br />parnam: Construction","x: Rconc<br />y:  855700<br />parnam: Construction","x: Mas<br />y:  855700<br />parnam: Construction","x: Rconc<br />y:  432100<br />parnam: Construction","x: Mas<br />y:  432100<br />parnam: Construction","x: Rconc<br />y:  749000<br />parnam: Construction","x: Mas<br />y:  749000<br />parnam: Construction","x: Rconc<br />y:  811400<br />parnam: Construction","x: Mas<br />y:  811400<br />parnam: Construction","x: Rconc<br />y:  699900<br />parnam: Construction","x: Mas<br />y:  699900<br />parnam: Construction","x: Rconc<br />y:  811400<br />parnam: Construction","x: Mas<br />y:  811400<br />parnam: Construction","x: Rconc<br />y:  699900<br />parnam: Construction","x: Mas<br />y:  699900<br />parnam: Construction"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(247,247,247,1)"}},"hoveron":"points","name":"855700","legendgroup":"855700","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,3,3,3,3,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,2,2,2,2,3,3,2,2,2,2,2,2,2,2,2,2],"y":[645000,645000,434700,434700,650000,650000,855700,855700,432100,749000,749000,582800,582800,529200,529200,762000,762000,811400,811400,699900,699900,855700,855700,432100,432100,749000,749000,855700,855700,432100,432100,749000,749000,811400,811400,699900,699900,811400,811400,699900,699900],"text":["x: 7<br />y:  645000<br />parnam: Num. Stories","x: 7<br />y:  645000<br />parnam: Num. Stories","x: 7<br />y:  434700<br />parnam: Num. Stories","x: 7<br />y:  434700<br />parnam: Num. Stories","x: 7<br />y:  650000<br />parnam: Num. Stories","x: 7<br />y:  650000<br />parnam: Num. Stories","x: 3<br />y:  855700<br />parnam: Num. Stories","x: 3<br />y:  855700<br />parnam: Num. Stories","x: 7<br />y:  432100<br />parnam: Num. Stories","x: 3<br />y:  749000<br />parnam: Num. Stories","x: 3<br />y:  749000<br />parnam: Num. Stories","x: 3<br />y:  582800<br />parnam: Num. Stories","x: 3<br />y:  582800<br />parnam: Num. Stories","x: 3<br />y:  529200<br />parnam: Num. Stories","x: 3<br />y:  529200<br />parnam: Num. Stories","x: 3<br />y:  762000<br />parnam: Num. Stories","x: 3<br />y:  762000<br />parnam: Num. Stories","x: 3<br />y:  811400<br />parnam: Num. Stories","x: 3<br />y:  811400<br />parnam: Num. Stories","x: 3<br />y:  699900<br />parnam: Num. Stories","x: 3<br />y:  699900<br />parnam: Num. Stories","x: 3<br />y:  855700<br />parnam: Num. Stories","x: 3<br />y:  855700<br />parnam: Num. Stories","x: 7<br />y:  432100<br />parnam: Num. Stories","x: 7<br />y:  432100<br />parnam: Num. Stories","x: 3<br />y:  749000<br />parnam: Num. Stories","x: 3<br />y:  749000<br />parnam: Num. Stories","x: 3<br />y:  855700<br />parnam: Num. Stories","x: 3<br />y:  855700<br />parnam: Num. Stories","x: 7<br />y:  432100<br />parnam: Num. Stories","x: 7<br />y:  432100<br />parnam: Num. Stories","x: 3<br />y:  749000<br />parnam: Num. Stories","x: 3<br />y:  749000<br />parnam: Num. Stories","x: 3<br />y:  811400<br />parnam: Num. Stories","x: 3<br />y:  811400<br />parnam: Num. Stories","x: 3<br />y:  699900<br />parnam: Num. Stories","x: 3<br />y:  699900<br />parnam: Num. Stories","x: 3<br />y:  811400<br />parnam: Num. Stories","x: 3<br />y:  811400<br />parnam: Num. Stories","x: 3<br />y:  699900<br />parnam: Num. Stories","x: 3<br />y:  699900<br />parnam: Num. Stories"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(247,247,247,1)"}},"hoveron":"points","name":"855700","legendgroup":"855700","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,1,1,2,2,2,2,2,2,3,3,3,1,1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2],"y":[1125900,1125900,1030000,1030000,1158700,1158700,1458500,1458500,1056200,1056200,1246300,1246300,1382000,1100400,1100400,1052200,1052200,1455400,1455400,1360200,1360200,985200,985200,1458500,1458500,1056200,1056200,1056200,1056200,1455400,1455400,1360200,1360200,985200,985200,1455400,1455400,1360200,1360200,985200,985200],"text":["x: Res<br />y: 1125900<br />parnam: Occupancy","x: Res<br />y: 1125900<br />parnam: Occupancy","x: Com<br />y: 1030000<br />parnam: Occupancy","x: Com<br />y: 1030000<br />parnam: Occupancy","x: Ind<br />y: 1158700<br />parnam: Occupancy","x: Ind<br />y: 1158700<br />parnam: Occupancy","x: Ind<br />y: 1458500<br />parnam: Occupancy","x: Ind<br />y: 1458500<br />parnam: Occupancy","x: Ind<br />y: 1056200<br />parnam: Occupancy","x: Ind<br />y: 1056200<br />parnam: Occupancy","x: Res<br />y: 1246300<br />parnam: Occupancy","x: Res<br />y: 1246300<br />parnam: Occupancy","x: Res<br />y: 1382000<br />parnam: Occupancy","x: Com<br />y: 1100400<br />parnam: Occupancy","x: Com<br />y: 1100400<br />parnam: Occupancy","x: Ind<br />y: 1052200<br />parnam: Occupancy","x: Ind<br />y: 1052200<br />parnam: Occupancy","x: Com<br />y: 1455400<br />parnam: Occupancy","x: Com<br />y: 1455400<br />parnam: Occupancy","x: Ind<br />y: 1360200<br />parnam: Occupancy","x: Ind<br />y: 1360200<br />parnam: Occupancy","x: Ind<br />y:  985200<br />parnam: Occupancy","x: Ind<br />y:  985200<br />parnam: Occupancy","x: Ind<br />y: 1458500<br />parnam: Occupancy","x: Ind<br />y: 1458500<br />parnam: Occupancy","x: Ind<br />y: 1056200<br />parnam: Occupancy","x: Ind<br />y: 1056200<br />parnam: Occupancy","x: Ind<br />y: 1056200<br />parnam: Occupancy","x: Ind<br />y: 1056200<br />parnam: Occupancy","x: Com<br />y: 1455400<br />parnam: Occupancy","x: Com<br />y: 1455400<br />parnam: Occupancy","x: Ind<br />y: 1360200<br />parnam: Occupancy","x: Ind<br />y: 1360200<br />parnam: Occupancy","x: Ind<br />y:  985200<br />parnam: Occupancy","x: Ind<br />y:  985200<br />parnam: Occupancy","x: Com<br />y: 1455400<br />parnam: Occupancy","x: Com<br />y: 1455400<br />parnam: Occupancy","x: Ind<br />y: 1360200<br />parnam: Occupancy","x: Ind<br />y: 1360200<br />parnam: Occupancy","x: Ind<br />y:  985200<br />parnam: Occupancy","x: Ind<br />y:  985200<br />parnam: Occupancy"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(244,165,130,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(244,165,130,1)"}},"hoveron":"points","name":"1458500","legendgroup":"1458500","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1],"y":[1125900,1125900,1030000,1030000,1158700,1158700,1458500,1458500,1056200,1056200,1246300,1246300,1382000,1100400,1100400,1052200,1052200,1455400,1455400,1360200,1360200,985200,985200,1458500,1458500,1056200,1056200,1056200,1056200,1455400,1455400,1360200,1360200,985200,985200,1455400,1455400,1360200,1360200,985200,985200],"text":["x: Rconc<br />y: 1125900<br />parnam: Construction","x: Mas<br />y: 1125900<br />parnam: Construction","x: Rconc<br />y: 1030000<br />parnam: Construction","x: Mas<br />y: 1030000<br />parnam: Construction","x: Rconc<br />y: 1158700<br />parnam: Construction","x: Mas<br />y: 1158700<br />parnam: Construction","x: Rconc<br />y: 1458500<br />parnam: Construction","x: Mas<br />y: 1458500<br />parnam: Construction","x: Rconc<br />y: 1056200<br />parnam: Construction","x: Mas<br />y: 1056200<br />parnam: Construction","x: Rconc<br />y: 1246300<br />parnam: Construction","x: Mas<br />y: 1246300<br />parnam: Construction","x: Wood<br />y: 1382000<br />parnam: Construction","x: Rconc<br />y: 1100400<br />parnam: Construction","x: Mas<br />y: 1100400<br />parnam: Construction","x: Rconc<br />y: 1052200<br />parnam: Construction","x: Mas<br />y: 1052200<br />parnam: Construction","x: Rconc<br />y: 1455400<br />parnam: Construction","x: Mas<br />y: 1455400<br />parnam: Construction","x: Rconc<br />y: 1360200<br />parnam: Construction","x: Mas<br />y: 1360200<br />parnam: Construction","x: Rconc<br />y:  985200<br />parnam: Construction","x: Mas<br />y:  985200<br />parnam: Construction","x: Rconc<br />y: 1458500<br />parnam: Construction","x: Mas<br />y: 1458500<br />parnam: Construction","x: Rconc<br />y: 1056200<br />parnam: Construction","x: Mas<br />y: 1056200<br />parnam: Construction","x: Rconc<br />y: 1056200<br />parnam: Construction","x: Mas<br />y: 1056200<br />parnam: Construction","x: Rconc<br />y: 1455400<br />parnam: Construction","x: Mas<br />y: 1455400<br />parnam: Construction","x: Rconc<br />y: 1360200<br />parnam: Construction","x: Mas<br />y: 1360200<br />parnam: Construction","x: Rconc<br />y:  985200<br />parnam: Construction","x: Mas<br />y:  985200<br />parnam: Construction","x: Rconc<br />y: 1455400<br />parnam: Construction","x: Mas<br />y: 1455400<br />parnam: Construction","x: Rconc<br />y: 1360200<br />parnam: Construction","x: Mas<br />y: 1360200<br />parnam: Construction","x: Rconc<br />y:  985200<br />parnam: Construction","x: Mas<br />y:  985200<br />parnam: Construction"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(244,165,130,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(244,165,130,1)"}},"hoveron":"points","name":"1458500","legendgroup":"1458500","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,2,2,2,2,2,1,1,2,2,1,1,2,1,1,1,1,1,1,1,1,2,2,1,1,2,2,2,2,1,1,1,1,2,2,1,1,1,1,2,2],"y":[1125900,1125900,1030000,1030000,1158700,1158700,1458500,1458500,1056200,1056200,1246300,1246300,1382000,1100400,1100400,1052200,1052200,1455400,1455400,1360200,1360200,985200,985200,1458500,1458500,1056200,1056200,1056200,1056200,1455400,1455400,1360200,1360200,985200,985200,1455400,1455400,1360200,1360200,985200,985200],"text":["x: 3<br />y: 1125900<br />parnam: Num. Stories","x: 3<br />y: 1125900<br />parnam: Num. Stories","x: 3<br />y: 1030000<br />parnam: Num. Stories","x: 3<br />y: 1030000<br />parnam: Num. Stories","x: 3<br />y: 1158700<br />parnam: Num. Stories","x: 3<br />y: 1158700<br />parnam: Num. Stories","x: 1<br />y: 1458500<br />parnam: Num. Stories","x: 1<br />y: 1458500<br />parnam: Num. Stories","x: 3<br />y: 1056200<br />parnam: Num. Stories","x: 3<br />y: 1056200<br />parnam: Num. Stories","x: 1<br />y: 1246300<br />parnam: Num. Stories","x: 1<br />y: 1246300<br />parnam: Num. Stories","x: 3<br />y: 1382000<br />parnam: Num. Stories","x: 1<br />y: 1100400<br />parnam: Num. Stories","x: 1<br />y: 1100400<br />parnam: Num. Stories","x: 1<br />y: 1052200<br />parnam: Num. Stories","x: 1<br />y: 1052200<br />parnam: Num. Stories","x: 1<br />y: 1455400<br />parnam: Num. Stories","x: 1<br />y: 1455400<br />parnam: Num. Stories","x: 1<br />y: 1360200<br />parnam: Num. Stories","x: 1<br />y: 1360200<br />parnam: Num. Stories","x: 3<br />y:  985200<br />parnam: Num. Stories","x: 3<br />y:  985200<br />parnam: Num. Stories","x: 1<br />y: 1458500<br />parnam: Num. Stories","x: 1<br />y: 1458500<br />parnam: Num. Stories","x: 3<br />y: 1056200<br />parnam: Num. Stories","x: 3<br />y: 1056200<br />parnam: Num. Stories","x: 3<br />y: 1056200<br />parnam: Num. Stories","x: 3<br />y: 1056200<br />parnam: Num. Stories","x: 1<br />y: 1455400<br />parnam: Num. Stories","x: 1<br />y: 1455400<br />parnam: Num. Stories","x: 1<br />y: 1360200<br />parnam: Num. Stories","x: 1<br />y: 1360200<br />parnam: Num. Stories","x: 3<br />y:  985200<br />parnam: Num. Stories","x: 3<br />y:  985200<br />parnam: Num. Stories","x: 1<br />y: 1455400<br />parnam: Num. Stories","x: 1<br />y: 1455400<br />parnam: Num. Stories","x: 1<br />y: 1360200<br />parnam: Num. Stories","x: 1<br />y: 1360200<br />parnam: Num. Stories","x: 3<br />y:  985200<br />parnam: Num. Stories","x: 3<br />y:  985200<br />parnam: Num. Stories"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(244,165,130,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(244,165,130,1)"}},"hoveron":"points","name":"1458500","legendgroup":"1458500","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,3,3,1,1,2,2,3,3,3,3,1,1,3,3,3,3,3,3,3,3,3,1,1,3,3,3,3,1,1,2,2,3,3,3,3,3,3,3,3],"y":[2880000,2288000,2288000,1769600,2122000,2122000,1600000,1600000,2874000,1829800,1829800,1757400,1557500,1557500,2580800,2853000,1735100,1735100,1715300,2874000,1829800,1829800,1757400,1557500,1557500,2874000,1829800,1829800,1757400,1557500,1557500,1458500,1458500,2853000,1735100,1735100,1715300,2853000,1735100,1735100,1715300],"text":["x: Res<br />y: 2880000<br />parnam: Occupancy","x: Res<br />y: 2288000<br />parnam: Occupancy","x: Res<br />y: 2288000<br />parnam: Occupancy","x: Res<br />y: 1769600<br />parnam: Occupancy","x: Com<br />y: 2122000<br />parnam: Occupancy","x: Com<br />y: 2122000<br />parnam: Occupancy","x: Ind<br />y: 1600000<br />parnam: Occupancy","x: Ind<br />y: 1600000<br />parnam: Occupancy","x: Res<br />y: 2874000<br />parnam: Occupancy","x: Res<br />y: 1829800<br />parnam: Occupancy","x: Res<br />y: 1829800<br />parnam: Occupancy","x: Res<br />y: 1757400<br />parnam: Occupancy","x: Com<br />y: 1557500<br />parnam: Occupancy","x: Com<br />y: 1557500<br />parnam: Occupancy","x: Res<br />y: 2580800<br />parnam: Occupancy","x: Res<br />y: 2853000<br />parnam: Occupancy","x: Res<br />y: 1735100<br />parnam: Occupancy","x: Res<br />y: 1735100<br />parnam: Occupancy","x: Res<br />y: 1715300<br />parnam: Occupancy","x: Res<br />y: 2874000<br />parnam: Occupancy","x: Res<br />y: 1829800<br />parnam: Occupancy","x: Res<br />y: 1829800<br />parnam: Occupancy","x: Res<br />y: 1757400<br />parnam: Occupancy","x: Com<br />y: 1557500<br />parnam: Occupancy","x: Com<br />y: 1557500<br />parnam: Occupancy","x: Res<br />y: 2874000<br />parnam: Occupancy","x: Res<br />y: 1829800<br />parnam: Occupancy","x: Res<br />y: 1829800<br />parnam: Occupancy","x: Res<br />y: 1757400<br />parnam: Occupancy","x: Com<br />y: 1557500<br />parnam: Occupancy","x: Com<br />y: 1557500<br />parnam: Occupancy","x: Ind<br />y: 1458500<br />parnam: Occupancy","x: Ind<br />y: 1458500<br />parnam: Occupancy","x: Res<br />y: 2853000<br />parnam: Occupancy","x: Res<br />y: 1735100<br />parnam: Occupancy","x: Res<br />y: 1735100<br />parnam: Occupancy","x: Res<br />y: 1715300<br />parnam: Occupancy","x: Res<br />y: 2853000<br />parnam: Occupancy","x: Res<br />y: 1735100<br />parnam: Occupancy","x: Res<br />y: 1735100<br />parnam: Occupancy","x: Res<br />y: 1715300<br />parnam: Occupancy"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(202,0,32,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(202,0,32,1)"}},"hoveron":"points","name":"2880000","legendgroup":"2880000","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,3,2,1,3,3,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,3,2,1,3],"y":[2880000,2288000,2288000,1769600,2122000,2122000,1600000,1600000,2874000,1829800,1829800,1757400,1557500,1557500,2580800,2853000,1735100,1735100,1715300,2874000,1829800,1829800,1757400,1557500,1557500,2874000,1829800,1829800,1757400,1557500,1557500,1458500,1458500,2853000,1735100,1735100,1715300,2853000,1735100,1735100,1715300],"text":["x: Wood<br />y: 2880000<br />parnam: Construction","x: Rconc<br />y: 2288000<br />parnam: Construction","x: Mas<br />y: 2288000<br />parnam: Construction","x: Wood<br />y: 1769600<br />parnam: Construction","x: Rconc<br />y: 2122000<br />parnam: Construction","x: Mas<br />y: 2122000<br />parnam: Construction","x: Rconc<br />y: 1600000<br />parnam: Construction","x: Mas<br />y: 1600000<br />parnam: Construction","x: Wood<br />y: 2874000<br />parnam: Construction","x: Rconc<br />y: 1829800<br />parnam: Construction","x: Mas<br />y: 1829800<br />parnam: Construction","x: Wood<br />y: 1757400<br />parnam: Construction","x: Rconc<br />y: 1557500<br />parnam: Construction","x: Mas<br />y: 1557500<br />parnam: Construction","x: Wood<br />y: 2580800<br />parnam: Construction","x: Wood<br />y: 2853000<br />parnam: Construction","x: Rconc<br />y: 1735100<br />parnam: Construction","x: Mas<br />y: 1735100<br />parnam: Construction","x: Wood<br />y: 1715300<br />parnam: Construction","x: Wood<br />y: 2874000<br />parnam: Construction","x: Rconc<br />y: 1829800<br />parnam: Construction","x: Mas<br />y: 1829800<br />parnam: Construction","x: Wood<br />y: 1757400<br />parnam: Construction","x: Rconc<br />y: 1557500<br />parnam: Construction","x: Mas<br />y: 1557500<br />parnam: Construction","x: Wood<br />y: 2874000<br />parnam: Construction","x: Rconc<br />y: 1829800<br />parnam: Construction","x: Mas<br />y: 1829800<br />parnam: Construction","x: Wood<br />y: 1757400<br />parnam: Construction","x: Rconc<br />y: 1557500<br />parnam: Construction","x: Mas<br />y: 1557500<br />parnam: Construction","x: Rconc<br />y: 1458500<br />parnam: Construction","x: Mas<br />y: 1458500<br />parnam: Construction","x: Wood<br />y: 2853000<br />parnam: Construction","x: Rconc<br />y: 1735100<br />parnam: Construction","x: Mas<br />y: 1735100<br />parnam: Construction","x: Wood<br />y: 1715300<br />parnam: Construction","x: Wood<br />y: 2853000<br />parnam: Construction","x: Rconc<br />y: 1735100<br />parnam: Construction","x: Mas<br />y: 1735100<br />parnam: Construction","x: Wood<br />y: 1715300<br />parnam: Construction"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(202,0,32,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(202,0,32,1)"}},"hoveron":"points","name":"2880000","legendgroup":"2880000","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,2],"y":[2880000,2288000,2288000,1769600,2122000,2122000,1600000,1600000,2874000,1829800,1829800,1757400,1557500,1557500,2580800,2853000,1735100,1735100,1715300,2874000,1829800,1829800,1757400,1557500,1557500,2874000,1829800,1829800,1757400,1557500,1557500,1458500,1458500,2853000,1735100,1735100,1715300,2853000,1735100,1735100,1715300],"text":["x: 1<br />y: 2880000<br />parnam: Num. Stories","x: 1<br />y: 2288000<br />parnam: Num. Stories","x: 1<br />y: 2288000<br />parnam: Num. Stories","x: 3<br />y: 1769600<br />parnam: Num. Stories","x: 1<br />y: 2122000<br />parnam: Num. Stories","x: 1<br />y: 2122000<br />parnam: Num. Stories","x: 1<br />y: 1600000<br />parnam: Num. Stories","x: 1<br />y: 1600000<br />parnam: Num. Stories","x: 1<br />y: 2874000<br />parnam: Num. Stories","x: 1<br />y: 1829800<br />parnam: Num. Stories","x: 1<br />y: 1829800<br />parnam: Num. Stories","x: 3<br />y: 1757400<br />parnam: Num. Stories","x: 1<br />y: 1557500<br />parnam: Num. Stories","x: 1<br />y: 1557500<br />parnam: Num. Stories","x: 1<br />y: 2580800<br />parnam: Num. Stories","x: 1<br />y: 2853000<br />parnam: Num. Stories","x: 1<br />y: 1735100<br />parnam: Num. Stories","x: 1<br />y: 1735100<br />parnam: Num. Stories","x: 3<br />y: 1715300<br />parnam: Num. Stories","x: 1<br />y: 2874000<br />parnam: Num. Stories","x: 1<br />y: 1829800<br />parnam: Num. Stories","x: 1<br />y: 1829800<br />parnam: Num. Stories","x: 3<br />y: 1757400<br />parnam: Num. Stories","x: 1<br />y: 1557500<br />parnam: Num. Stories","x: 1<br />y: 1557500<br />parnam: Num. Stories","x: 1<br />y: 2874000<br />parnam: Num. Stories","x: 1<br />y: 1829800<br />parnam: Num. Stories","x: 1<br />y: 1829800<br />parnam: Num. Stories","x: 3<br />y: 1757400<br />parnam: Num. Stories","x: 1<br />y: 1557500<br />parnam: Num. Stories","x: 1<br />y: 1557500<br />parnam: Num. Stories","x: 1<br />y: 1458500<br />parnam: Num. Stories","x: 1<br />y: 1458500<br />parnam: Num. Stories","x: 1<br />y: 2853000<br />parnam: Num. Stories","x: 1<br />y: 1735100<br />parnam: Num. Stories","x: 1<br />y: 1735100<br />parnam: Num. Stories","x: 3<br />y: 1715300<br />parnam: Num. Stories","x: 1<br />y: 2853000<br />parnam: Num. Stories","x: 1<br />y: 1735100<br />parnam: Num. Stories","x: 1<br />y: 1735100<br />parnam: Num. Stories","x: 3<br />y: 1715300<br />parnam: Num. Stories"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(202,0,32,1)","opacity":0.8,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(202,0,32,1)"}},"hoveron":"points","name":"2880000","legendgroup":"2880000","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":80,"r":20.0581154005812,"b":31.0170195101702,"l":58.7795765877958},"plot_bgcolor":"d9d9d9","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"xaxis":{"domain":[0,0.32976598173516],"automargin":true,"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["Com","Ind","Res"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Com","Ind","Res"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-47820,3019420],"tickmode":"array","ticktext":["0e+00","1e+06","2e+06","3e+06"],"tickvals":[0,1000000,2000000,3000000],"categoryorder":"array","categoryarray":["0e+00","1e+06","2e+06","3e+06"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"annotations":[{"text":"GU Loss","x":-0.0212419572436696,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"Occupancy","x":0.16488299086758,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":12.7521793275218},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Construction","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":12.7521793275218},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Num. Stories","x":0.83511700913242,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":12.7521793275218},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"\t Upper <br /> bound <br /> output","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.32976598173516,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.32976598173516,"y0":0,"y1":24.4416770444168,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.336900684931507,"x1":0.663099315068493,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.336900684931507,"x1":0.663099315068493,"y0":0,"y1":24.4416770444168,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.67023401826484,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.67023401826484,"x1":1,"y0":0,"y1":24.4416770444168,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["Mas","Rconc","Wood"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Mas","Rconc","Wood"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.336900684931507,0.663099315068493],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,4.6],"tickmode":"array","ticktext":["1","3","7","8"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["1","3","7","8"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.67023401826484,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":12.7521793275218},"y":0.955708661417323},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"318c516518b4":{"x":{},"y":{},"colour":{},"parnam":{},"type":"scatter"},"318c7c417f45":{"x":{},"y":{},"colour":{},"parnam":{}}},"cur_data":"318c516518b4","visdat":{"318c516518b4":["function (y) ","x"],"318c7c417f45":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>How to read these plots:</strong></p>
<p><em>These plots show the same results as in <a href="#Step5">Step 5</a>, but the estimated output sampels are coloured based on the magnitude of the loss (e.g. red for high losses, blue for low losses).</em> <em>These plots are interactive so, if you are interested in visualising only one subset of values (e.g. those producing high losses for wood <code>Construction type</code>), you can select those values to zoom in, as in the gif below.</em></p>
<p><br></p>
<p><img src="col_scatter.gif" width="80%" style="display: block; margin: auto;" /></p>
<p><br></p>
</div>
</div>
<div id="plot-the-sensitivity-indices-and-assess-the-robustness-of-the-gsa-method" class="section level3">
<h3>Plot the sensitivity indices and assess the robustness of the GSA method</h3>
<p>Here the <em>sensitivity indices</em> are plotted. For more information on how the sensitivity indices are derived refer to Sec. 3.4 of <a href="#References">Reference</a> 3.</p>
<p>The robustness of the method is visually assessed with the 95% confidence intervals around the mean estimate of the sensitivity indices. This will also reveal whether the number of simulations run was sufficient for our purpose.</p>
<pre class="r fold-show"><code>boxplot1(mu = mvd_mean_m, lb = mvd_mean_lb, ub = mvd_mean_ub, prnam = x_labels) + ylab(&quot;Sensitivity Index&quot;) + 
  ggtitle(&#39;GU Loss&#39;) + theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="workflow_GSA_AXAXL_example_files/figure-html/plot_boot_mvd-1.png" width="384" /></p>
<p><strong>How to read this plot:</strong></p>
<p><em>The plot shows the</em> <strong>sensitivity index</strong> <em>for each input factor for the output (i.e. <code>GU Loss</code>).</em> <em>The sensitivity index indicates how influential one input factor is on driving the uncertainty of the output.</em> <em>The closer the sensitivity index of an input factor is to 1, the more influential that input factor is, conversely the closer to zero the less influential it is.</em></p>
<p><em>The plot shows also the 95% confidence interval for the sensitivity indices. If the confidence intervals of two input factors are overlapping, than we cannot confidently state which input factor is more influential, which might hint that a higher number of samples (i.e. simulations) is needed.</em></p>
<p><strong>What we can learn from this plot:</strong></p>
<p><em>The results are consistent with the examination of the scatterplots, the <code>Number of stories</code> is the most influential input factor, followed by <code>Occupancy class</code> and then <code>Contruction type</code>.</em></p>
<p><br></p>
<p><em>The assessment of the robustness of the results shows that the number of simulations used is sufficient to confidently say that the <code>Number of stories</code> is the most influential input factor. Instead we cannot confidently say that <code>Occupancy class</code> is more influential than <code>Construction type</code>, as their confidence intervals are overlapping.</em></p>
<p><br></p>
</div>
<div id="step-7-visualise-the-interactions-between-input-factors-through-parallel-coordinate-plots" class="section level3">
<h3><a id="Step7"></a>Step 7: Visualise the interactions between input factors through parallel coordinate plots</h3>
<pre class="r fold-show"><code>data_pc &lt;-  data.frame(Occupancy = X[,1], Construction = X[,2], Numstories = X[,3], GU_Loss = Y)
data_pc[&#39;idx&#39;] &lt;- idx # add group to the dataframe

p &lt;- data_pc %&gt;%
    plot_ly(type = &#39;parcoords&#39;,
          line = list(color = ~GU_Loss,
                      colorscale = &#39;RdBu&#39;,
                      showscale = TRUE,
                      reversescale = F),
          dimensions = list(
            list(range = c(1,3),
                 label = &#39;Occupancy&#39;, values = ~Occupancy,  tickvals = c(1,2,3), ticktext = occ_labels),
            list(range = c(1,3),
                 label = &#39;Construction&#39;, values = ~Construction, tickvals = c(1,2,3), ticktext = cons_labels),
            list(range = c(1,8),
                 label = &#39;Num. Stories&#39;, values = ~Numstories),
            list(range = c(min(data_pc[&#39;GU_Loss&#39;]), max(data_pc[&#39;GU_Loss&#39;])),
                 label = &#39;GU Loss&#39;, values = ~GU_Loss)
            )
          ) 

p</code></pre>
<div id="htmlwidget-5ade850f52ad2abdd9e2" style="width:80%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5ade850f52ad2abdd9e2">{"x":{"visdat":{"318c62433b56":["function () ","plotlyVisDat"]},"cur_data":"318c62433b56","attrs":{"318c62433b56":{"line":{"color":{},"colorscale":"RdBu","showscale":true,"reversescale":false},"dimensions":[{"range":[1,3],"label":"Occupancy","values":{},"tickvals":[1,2,3],"ticktext":["Com.","Ind.","Res."]},{"range":[1,3],"label":"Construction","values":{},"tickvals":[1,2,3],"ticktext":["Mas.","R Conc.","Wood"]},{"range":[1,8],"label":"Num. Stories","values":{}},{"range":[91600,2880000],"label":"GU Loss","values":{}}],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"parcoords"}},"layout":{"margin":{"b":40,"l":60,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"line":{"color":[2880000,2288000,2288000,1769600,1125900,1125900,645000,645000,319700,319700,2122000,2122000,1030000,1030000,434700,434700,245700,245700,1600000,1600000,1158700,1158700,650000,650000,400000,400000,2874000,1829800,1829800,1757400,855700,855700,432100,432100,248700,248700,1557500,1557500,749000,749000,265600,265600,170900,170900,1458500,1458500,1056200,1056200,401700,401700,256200,256200,2580800,1246300,1246300,1382000,582800,582800,243000,243000,166400,166400,1100400,1100400,529200,529200,165000,165000,91600,91600,1052200,1052200,762000,762000,267500,267500,166500,166500,2853000,1735100,1735100,1715300,811400,811400,402900,402900,239900,239900,1455400,1455400,699900,699900,249600,249600,155100,155100,1360200,1360200,985200,985200,354700,354700,225000,225000,2874000,1829800,1829800,1757400,855700,855700,432100,432100,248700,248700,1557500,1557500,749000,749000,265600,265600,170900,170900,1458500,1458500,1056200,1056200,401700,401700,256200,256200,2874000,1829800,1829800,1757400,855700,855700,432100,432100,248700,248700,1557500,1557500,749000,749000,265600,265600,170900,170900,1458500,1458500,1056200,1056200,401700,401700,256200,256200,2853000,1735100,1735100,1715300,811400,811400,402900,402900,239900,239900,1455400,1455400,699900,699900,249600,249600,155100,155100,1360200,1360200,985200,985200,354700,354700,225000,225000,2853000,1735100,1735100,1715300,811400,811400,402900,402900,239900,239900,1455400,1455400,699900,699900,249600,249600,155100,155100,1360200,1360200,985200,985200,354700,354700,225000,225000],"colorscale":"RdBu","showscale":true,"reversescale":false},"dimensions":[{"range":[1,3],"label":"Occupancy","values":[3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2],"tickvals":[1,2,3],"ticktext":["Com.","Ind.","Res."]},{"range":[1,3],"label":"Construction","values":[3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1],"tickvals":[1,2,3],"ticktext":["Mas.","R Conc.","Wood"]},{"range":[1,8],"label":"Num. Stories","values":[1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,1,3,3,3,7,7,8,8,1,1,3,3,7,7,8,8,1,1,3,3,7,7,8,8]},{"range":[91600,2880000],"label":"GU Loss","values":[2880000,2288000,2288000,1769600,1125900,1125900,645000,645000,319700,319700,2122000,2122000,1030000,1030000,434700,434700,245700,245700,1600000,1600000,1158700,1158700,650000,650000,400000,400000,2874000,1829800,1829800,1757400,855700,855700,432100,432100,248700,248700,1557500,1557500,749000,749000,265600,265600,170900,170900,1458500,1458500,1056200,1056200,401700,401700,256200,256200,2580800,1246300,1246300,1382000,582800,582800,243000,243000,166400,166400,1100400,1100400,529200,529200,165000,165000,91600,91600,1052200,1052200,762000,762000,267500,267500,166500,166500,2853000,1735100,1735100,1715300,811400,811400,402900,402900,239900,239900,1455400,1455400,699900,699900,249600,249600,155100,155100,1360200,1360200,985200,985200,354700,354700,225000,225000,2874000,1829800,1829800,1757400,855700,855700,432100,432100,248700,248700,1557500,1557500,749000,749000,265600,265600,170900,170900,1458500,1458500,1056200,1056200,401700,401700,256200,256200,2874000,1829800,1829800,1757400,855700,855700,432100,432100,248700,248700,1557500,1557500,749000,749000,265600,265600,170900,170900,1458500,1458500,1056200,1056200,401700,401700,256200,256200,2853000,1735100,1735100,1715300,811400,811400,402900,402900,239900,239900,1455400,1455400,699900,699900,249600,249600,155100,155100,1360200,1360200,985200,985200,354700,354700,225000,225000,2853000,1735100,1735100,1715300,811400,811400,402900,402900,239900,239900,1455400,1455400,699900,699900,249600,249600,155100,155100,1360200,1360200,985200,985200,354700,354700,225000,225000]}],"type":"parcoords","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>How to read this plot:</strong></p>
<p><em>The parallel coordinate plot shows the combination of values for the three inputs factors that lead to various values of output losses.</em></p>
<p><em>Each y-axis represents the range of values of the input factors, and output, respectively. Each line represents one simulation, and shows the value taken by each input factor and the corresponding estimated output loss. Each line is coloured depending on the value of the output (i.e. dark red for high losses, dark blue for low losses).</em></p>
<p><em>The plot above is interactive so, if you are interested in visualising only one subset of values, you can select different combinations of sub-range of values for each input factor and/or output on the y-axes and highlight the corresponding simulations.</em> <em>You can also move the y-axis horizontally in order to change the order in which input factors are visuallised, which might help to highlight interactions between input factors.</em></p>
<p><em>For example, the gif below shows that by sliding the axis of the <code>Number of stories</code> to the left (between <code>Occupancy class</code> and <code>Constuction type</code>) it will be more evident that low losses are coming from buildings with high <code>Number of stories</code>, any <code>Occupancy class</code>, and reinforced concrete or masonry as <code>Construction type</code>.</em></p>
<p><img src="low_losses_parcoord.gif" width="70%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p><em>Try also to select only high <code>GU Loss</code> (e.g. above 2.5 million), these are coming from residential buildings, with one storey and made of wood, as shown in the gif below.</em></p>
<p><img src="high_losses_parcoord.gif" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>What we can learn from this plot:</strong></p>
<p><em>The plot helps to highlight that even though the <code>Number of stories</code> appeared to be the most influential input factor from the Global Sensitivity Analysis results, high losses are found for residential buildings made of wood, which usually have one story, as the number of stories is a primary modifier usually inferred from the type of occupancy, for which there is a stricter data quality process.</em></p>
<p><br></p>
</div>
<div id="references" class="section level3">
<h3><a id="References"></a>References</h3>
<p>RSA is based on the function created as part of the SAFE Toolbox by F. Pianosi, F. Sarrazin and T. Wagener at Bristol University (2015). Please refer to the <code>Licence</code> file in the SAFE toolbox.</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://www.safetoolbox.info/">SAFE Toolbox Website</a></p></li>
<li><p><a href="https://www.sciencedirect.com/science/article/pii/S1364815215001188">Introductory paper to SAFE - Pianosi et al. (2015)</a></p></li>
<li><p><a href="https://www.sciencedirect.com/science/article/pii/S1364815216300287">A review of available methods and workflows for Sensitivity Analysis - Pianosi et al. (2016)</a></p></li>
<li><p><a href="https://www.sciencedirect.com/science/article/pii/S0012825218300990">What has Global Sensitivity Analysis ever done for us? A systematic review to support scientific advancement and to inform policy-making in earth system modelling - Wagener and Pianosi (2019)</a></p></li>
<li><p><a href="https://www.sciencedirect.com/science/article/pii/S2215016119302572?via%3Dihub">Practical guide through the critical choices needed for Global Sensitivity Analysis - Noacco et al. (2019)</a></p></li>
</ol>
<p><br></p>
</div>
<div id="appendix" class="section level3">
<h3>Appendix</h3>
<p><a id="OAT vs AAT"></a></p>
<p><img src="OAT_vs_AAT.png" width="80%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p><a id="Si"></a></p>
<p><img src="Si.png" width="80%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p><a name="myfootnote1">*</a> Please cite this document as:</p>
<p>Noacco V, Pianosi F, Wagener T (2020). <em>Workflow to apply Global Sensitivity Analysis to a CAT model</em></p>
<p><br></p>
</div>
<div id="acknowledgements" class="section level3">
<h3>Acknowledgements</h3>
<p>This work has been funded by the UK Natural Environment Research Council (NERC):</p>
<p>KE Fellowship: NE/R003734/1</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
